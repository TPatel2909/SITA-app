<div class="page-container">
  <div class="content-wrapper">
    <div class="assessment-container">
      <div class="section-header">
        <h2>EPMDS</h2>
        <h3>Probation: Quarterly Performance Assessment</h3>
      </div>

      <div class="notice-box">
        <p>Please complete all sections of this form. Required fields are marked with an asterisk (*)</p>
      </div>

      <div class="confidential-banner">
        <h3>CONFIDENTIAL</h3>
      </div>

      <mat-spinner *ngIf="isLoading" class="loading-spinner"></mat-spinner>

      <form *ngIf="!isLoading" [formGroup]="assessmentForm" (ngSubmit)="onSubmit()" class="assessment-form">
        <!-- Basic Information Section -->
        <div class="form-section">
          <h3>Basic Information</h3>
          <div class="info-grid">
            <div class="form-row">
              <label>Quarter *</label>
              <mat-select formControlName="quarter">
                <mat-option value="Q1">Quarter 1</mat-option>
                <mat-option value="Q2">Quarter 2</mat-option>
                <mat-option value="Q3">Quarter 3</mat-option>
                <mat-option value="Q4">Quarter 4</mat-option>
              </mat-select>
            </div>

            <div class="form-row">
              <label>Name *</label>
              <input type="text" formControlName="name">
            </div>

            <div class="form-row">
              <label>Rank *</label>
              <input type="text" formControlName="rank">
            </div>

            <div class="form-row">
              <label>Component *</label>
              <input type="text" formControlName="component">
            </div>

            <div class="form-row">
              <label>Date of Appointment *</label>
              <input type="date" formControlName="dateOfAppointment">
            </div>

            <div class="form-row">
              <label>Persal Number *</label>
              <input type="text" formControlName="persalNumber">
            </div>
          </div>
        </div>

        <!-- Part 1: Comments by Employee -->
        <div class="form-section">
          <h3>Part 1: Comments by Employee</h3>
          <div class="form-row">
            <label>Main Accomplishments *</label>
            <textarea formControlName="employeeAccomplishments" rows="4"></textarea>
          </div>

          <div class="form-row">
            <label>Areas of Less Success *</label>
            <textarea formControlName="areasOfLessSuccess" rows="4"></textarea>
          </div>
        </div>

        <!-- Part 2: Assessment -->
        <div class="form-section">
          <h3>Part 2: Assessment</h3>
          <div class="form-row">
            <label>Supervisor Assessment *</label>
            <textarea formControlName="supervisorAssessment" rows="4"></textarea>
          </div>

          <div class="form-row">
            <label>Final Score (1-5) *</label>
            <input type="number" formControlName="finalScore" min="1" max="5">
          </div>
        </div>

        <!-- Part 3: Supervisor Section -->
        <div class="form-section">
          <h3>Part 3: Supervisor Section</h3>
          <div class="form-row">
            <label>Training Reasons</label>
            <textarea formControlName="trainingReasons" rows="4"></textarea>
          </div>

          <div class="form-row">
            <label>Placement Suitability *</label>
            <textarea formControlName="placementSuitability" rows="4"></textarea>
          </div>

          <div class="form-row">
            <label>Recommendation *</label>
            <div class="radio-group">
              <label>
                <input type="radio" formControlName="recommendationType" value="confirm">
                Confirm Appointment
              </label>
              <label>
                <input type="radio" formControlName="recommendationType" value="extend">
                Extend Probation
              </label>
              <label>
                <input type="radio" formControlName="recommendationType" value="terminate">
                Terminate Service
              </label>
            </div>
          </div>

          <div class="form-row" *ngIf="assessmentForm.get('recommendationType')?.value === 'other'">
            <label>Recommendation Details *</label>
            <textarea formControlName="recommendationDetails" rows="4"></textarea>
          </div>
        </div>

        <div class="form-actions">
          <button type="button" class="btn-action" style="background-color: #04a9e8" (click)="saveDraft()">
            Save Draft
          </button>
          <button type="submit" class="btn-action" style="background-color: #04ac64">
            Submit Assessment
          </button>
        </div>
      </form>
    </div>
  </div>
</div> 